import{_ as c,M as l,p as d,q as u,R as e,N as t,V as a,t as n,a1 as i}from"./framework-1a844b00.js";const h="/docs/blender/project-panel.webp",m="/docs/blender/project-panel-2.webp",b="/docs/blender/project-panel-3.webp",k="/docs/blender/animatorcontroller-open.webp",g="/docs/blender/animatorcontroller-overview.webp",f="/docs/blender/animatorcontroller-assigning.webp",w="/docs/blender/timeline_setup.webp",v="/docs/blender/timeline.webp",_="/docs/blender/components-panel.webp",y="/docs/blender/remove-component.webp",j="/docs/blender/lightmapping-object.webp",x="/docs/blender/lightmapping-scene-panel.webp",P="/docs/blender/lightmapping-panel.webp",A="/docs/blender/updates.webp",T={},C=e("h1",{id:"needle-engine-for-blender-alpha-version",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#needle-engine-for-blender-alpha-version","aria-hidden":"true"},"#"),n(" Needle Engine for Blender ‚Äì Alpha Version")],-1),B=e("p",null,"Thanks for participating in our alpha phase. Please read the following docs for an overview over available features.",-1),N={class:"table-of-contents"},E=e("h2",{id:"preface",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#preface","aria-hidden":"true"},"#"),n(" Preface")],-1),I=e("p",null,"With this Addon you'll be able to build and export interactive web experiences right inside Blender. You'll be able to sequence animations, lightmap your scenes, add interactive components or create your own interactive scripts written in Typescript or Javascript that run on the web.",-1),S=e("p",null,"Needle Engine runs on three.js - so everything you can do in three.js you can also do in Needle Engine.",-1),q=e("strong",null,"Your feedback is invaluable",-1),D=e("br",null,null,-1),L={href:"https://github.com/needle-tools/needle-engine-support/discussions",target:"_blank",rel:"noopener noreferrer"},U=e("br",null,null,-1),Y={href:"https://github.com/needle-tools/needle-engine-support/issues",target:"_blank",rel:"noopener noreferrer"},V=e("br",null,null,-1),z={href:"https://discord.needle.tools",target:"_blank",rel:"noopener noreferrer"},F=i('<p>Thank you!</p><h2 id="download-and-installation" tabindex="-1"><a class="header-anchor" href="#download-and-installation" aria-hidden="true">#</a> Download and Installation üíø</h2><h3 id="step-1-make-sure-node.js-and-blender-3.3-3.4-or-3.5-are-installed" tabindex="-1"><a class="header-anchor" href="#step-1-make-sure-node.js-and-blender-3.3-3.4-or-3.5-are-installed" aria-hidden="true">#</a> Step 1 ‚Ä¢ <strong>Make sure node.js and Blender 3.3, 3.4 or 3.5 are installed</strong></h3><h3 id="step-2-download-and-install-our-addon-for-blender" tabindex="-1"><a class="header-anchor" href="#step-2-download-and-install-our-addon-for-blender" aria-hidden="true">#</a> Step 2 ‚Ä¢ Download and Install our Addon for Blender</h3><br>',5),M=e("strong",null,"Download Needle Engine for Blender",-1),R=i('<p>The Blender addon is downloaded as a zip file. In Blender go to <em>File / Settings / Add-ons</em> and click the <code>Install</code> button. Then select the downloaded zip to install it.</p><h2 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started üö©</h2><p>First create or open a new blend file that you want to be exported to the web.<br> Open the Properties window open the scene category. Select a <code>Project Path</code> in the Needle Engine panel. Then click <code>Generate Project</code>. It will automatically install and start the server - once it has finished your browser should open and the threejs scene will load.</p><p><img src="'+h+'" alt="Project panel"></p><p>By default your scene will automatically re-exported when you save the blend file.<br> If the local server is running (e.g. by clicking <code>Run Project</code>) the website will automatically refresh with your changed model.</p><p>When your web project already exists and you just want to continue working on the website<br> click the blue <code>Run Project</code> button to start the local server:<br><img src="'+m+'" alt="Project panel"></p><h3 id="project-panel-overview" tabindex="-1"><a class="header-anchor" href="#project-panel-overview" aria-hidden="true">#</a> Project Panel overview</h3><p><img src="'+b+'" alt="Project panel"></p><ol><li>The path to your web project. You can use the little folder button on the right to select a different path.</li><li>The <code>Run Project</code> button shows up when the Project path shows to a valid web project. A web project is valid when it contains a <code>package.json</code></li><li><code>Directory</code> open the directory of your web project (the <code>Project Path</code>)</li><li>This button re-exports the current scene as a glb to your local web project. This also happens by default when saving your blend file.</li><li><code>Code Editor</code> tries to open the vscode workspace in your web project</li><li>If you work with multiple scenes in one blend file you can configure which scene is your &quot;main&quot; scene and should be exported to the web. If any of your components references another scene they will also be exported as separate glb files.</li><li>Use the <code>Build: Development</code> or <code>Build: Production</code> buttons when you want to upload your web project to a server. This will bundle your web project and produce the files that you can upload. When clicking <code>Build: Production</code> it will also apply optimization to your textures (they will be compressed for the web)</li><li>Open the documentation</li></ol><h2 id="animation" tabindex="-1"><a class="header-anchor" href="#animation" aria-hidden="true">#</a> Animation üèá</h2><p>For simple usecases you can use the Animation component for playback of one or multiple animationclips.<br> Just select your object, add an Animation component and assign the clip (you can add additional clips to be exported to the clips array.<br> By default it will only playback the first clip assigned when <code>playAutomatically</code> is enabled. You can trigger the other clips using a simple custom typescript component)</p>',11),W=i('<h3 id="animatorcontroller" tabindex="-1"><a class="header-anchor" href="#animatorcontroller" aria-hidden="true">#</a> AnimatorController</h3><p>The animator controller can be created for more complex scenarios. It works as a statemachine which allows you to create multiple animation states in a graph and configure conditions and interpolation settings for transitioning between those.</p><h4 id="creating-an-animatorcontroller" tabindex="-1"><a class="header-anchor" href="#creating-an-animatorcontroller" aria-hidden="true">#</a> Creating an AnimatorController</h4><p>The AnimatorController editor can be opened using the EditorType dropdown in the topleft corner of each panel:</p><p><img src="'+k+'" alt="AnimatorController open window"></p>',5),G=i('<p><em>Creating a new animator-controller asset ‚òù or select one from your previously created assets</em></p><h5 id="graph-overview" tabindex="-1"><a class="header-anchor" href="#graph-overview" aria-hidden="true">#</a> Graph overview</h5><p><img src="'+g+'" alt="AnimatorController overview"></p><ol><li>Use <code>Shift+A</code> to create a new AnimatorState</li><li>The <code>Parameters</code> node will be created once you add a first node. Select it to setup parameters to be used in transitions (via the Node panel on the right border)</li><li>This is an AnimatorState. the orange state is the start state (it can be changed using the <code>Set default state</code> button in the Node/Properties panel)</li><li>The Properties for an AnimatorState can be used to setup one or multiple transitions to other states. Use the <code>Conditions</code> array to select parameters that must match the condition for doing the transition.</li></ol><h4 id="using-an-animatorcontroller" tabindex="-1"><a class="header-anchor" href="#using-an-animatorcontroller" aria-hidden="true">#</a> Using an AnimatorController</h4><p>To use an AnimatorController add an Animator component to the root object of your animations and select the AnimatorController asset that you want to use for this object.</p><p><img src="'+f+'" alt="AnimatorController assign to animator"></p><p>You can set the Animator parameters from typescript or by e.g. using the event of a Button component:</p><h3 id="timeline-nla-tracks-export" tabindex="-1"><a class="header-anchor" href="#timeline-nla-tracks-export" aria-hidden="true">#</a> Timeline ‚Äî nla tracks export üé¨</h3><p>Exporting Blender nla tracks to threejs.<br> Add a PlayableDirector component (via <code>Add Component</code>) to a any blender object. Assign the objects in the <code>animation tracks</code> list in the component for which you want the nla tracks to be exported.</p><p><img src="'+w+'" alt=""><br><img src="'+v+`" alt=""></p><details class="custom-container details"><summary>Code example for interactive timeline playback</summary><p>Add this script to <code>src/scripts</code> (see custom components section) and add it to any object in Blender to make a timeline&#39;s time be controlled by scrolling in the browsers</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Behaviour<span class="token punctuation">,</span> PlayableDirector<span class="token punctuation">,</span> serializable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@needle-tools/engine&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Mathf <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@needle-tools/engine/engine/engine_math&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ScrollTimeline</span> <span class="token keyword">extends</span> <span class="token class-name">Behaviour</span> <span class="token punctuation">{</span>

    <span class="token decorator"><span class="token at operator">@</span><span class="token function">serializable</span></span><span class="token punctuation">(</span>PlayableDirector<span class="token punctuation">)</span>
    timeline<span class="token operator">?</span><span class="token operator">:</span> PlayableDirector<span class="token punctuation">;</span>

    <span class="token keyword">private</span> _targetTime<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>domElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;wheel&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onWheel</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onWheel</span><span class="token punctuation">(</span>e<span class="token operator">:</span> WheelEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_targetTime <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">.</span>time <span class="token operator">+</span> e<span class="token punctuation">.</span>deltaY <span class="token operator">*</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> time <span class="token operator">=</span> Mathf<span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">.</span>time<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_targetTime<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>time<span class="token punctuation">.</span>deltaTime <span class="token operator">/</span> <span class="token number">.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">.</span>time <span class="token operator">=</span> time<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timeline<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="interactivity" tabindex="-1"><a class="header-anchor" href="#interactivity" aria-hidden="true">#</a> Interactivity üòé</h2><p>You can add or remove components to objects in your hierarchy using the Needle Components panel:</p><p><img src="`+_+'" alt="Component panel"><br><em>For example by adding an <code>OrbitControls</code> component to the camera object</em><br><em>you get basic camera controls for mobile and desktop devices</em><em>Adjust settings for each component in their respective panels</em></p><p>Components can be removed using the X button in the lower right:</p><p><img src="'+y+'" alt="Remove component"></p><h3 id="custom-components" tabindex="-1"><a class="header-anchor" href="#custom-components" aria-hidden="true">#</a> Custom Components</h3><p>Custom components can also be easily added by simply writing Typescript classes. They will automatically compile and show up in Blender when saved.</p>',19),O=e("code",null,".ts",-1),J=e("code",null,"src/scripts",-1),X={href:"http://docs.needle.tools/scripting",target:"_blank",rel:"noopener noreferrer"},H=e("div",{class:"custom-container warning"},[e("p",{class:"custom-container-title"},"Note"),e("p",null,[n("Make sure "),e("code",null,"@needle-tools/needle-component-compiler"),n(" 2.x is installed in your web project (package.json devDependencies)")])],-1),K=e("h2",{id:"lightmapping",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#lightmapping","aria-hidden":"true"},"#"),n(" Lightmapping üí°")],-1),Q=e("p",null,[n("Needle Lightmapping will automatically generate lightmap UVs for all models marked to be lightmapped. For lightmapping to work you need at least one light and one object with "),e("code",null,"Lightmapped"),n(" turned on.")],-1),Z={class:"custom-container danger"},$=e("p",{class:"custom-container-title"},"Please keep in mind:",-1),ee={href:"https://discord.needle.tools",target:"_blank",rel:"noopener noreferrer"},ne={href:"https://engine.needle.tools/downloads/blender/lightmaps.blend",target:"_blank",rel:"noopener noreferrer"},te=i('<p>Use the Needle Object panel to enable lightmapping for a mesh object or light:</p><p><img src="'+j+'" alt="Ligthmapping object"></p><p>For quick access to lightmap settings and baking options you can use the scene view panel in the <code>Needle</code> tab:</p><p><img src="'+x+'" alt="Ligthmapping scene panel"></p><p>Alternatively you can also use the Lightmapping panel in the <code>Render Properties</code> tab:</p><p><img src="'+P+'" alt="Ligthmapping object"></p><h2 id="updating" tabindex="-1"><a class="header-anchor" href="#updating" aria-hidden="true">#</a> Updating</h2><p>The lightbulb in the Needle Project panel informs you when a new version of the addon is available.<br> Simply click the icon to download the new version.<br><img src="'+A+'" alt="Update notification"></p>',8);function ae(oe,se){const o=l("router-link"),s=l("ExternalLinkIcon"),p=l("needle-button"),r=l("video-embed");return d(),u("div",null,[C,B,e("nav",N,[e("ul",null,[e("li",null,[t(o,{to:"#preface"},{default:a(()=>[n("Preface")]),_:1})]),e("li",null,[t(o,{to:"#download-and-installation"},{default:a(()=>[n("Download and Installation üíø")]),_:1}),e("ul",null,[e("li",null,[t(o,{to:"#step-1-make-sure-node.js-and-blender-3.3-3.4-or-3.5-are-installed"},{default:a(()=>[n("Step 1 ‚Ä¢ Make sure node.js and Blender 3.3, 3.4 or 3.5 are installed")]),_:1})]),e("li",null,[t(o,{to:"#step-2-download-and-install-our-addon-for-blender"},{default:a(()=>[n("Step 2 ‚Ä¢ Download and Install our Addon for Blender")]),_:1})])])]),e("li",null,[t(o,{to:"#getting-started"},{default:a(()=>[n("Getting Started üö©")]),_:1}),e("ul",null,[e("li",null,[t(o,{to:"#project-panel-overview"},{default:a(()=>[n("Project Panel overview")]),_:1})])])]),e("li",null,[t(o,{to:"#animation"},{default:a(()=>[n("Animation üèá")]),_:1}),e("ul",null,[e("li",null,[t(o,{to:"#animatorcontroller"},{default:a(()=>[n("AnimatorController")]),_:1})]),e("li",null,[t(o,{to:"#timeline-nla-tracks-export"},{default:a(()=>[n("Timeline ‚Äî nla tracks export üé¨")]),_:1})])])]),e("li",null,[t(o,{to:"#interactivity"},{default:a(()=>[n("Interactivity üòé")]),_:1}),e("ul",null,[e("li",null,[t(o,{to:"#custom-components"},{default:a(()=>[n("Custom Components")]),_:1})])])]),e("li",null,[t(o,{to:"#lightmapping"},{default:a(()=>[n("Lightmapping üí°")]),_:1})]),e("li",null,[t(o,{to:"#updating"},{default:a(()=>[n("Updating")]),_:1})])])]),E,I,S,e("p",null,[n("Please note: The current state of the exporter for Blender is early which means many features you may know from Needle Engine Exporter for Unity are not yet implemented. "),q,n(" when it comes to deciding which of those features should be prioritizes."),D,n(" If you have feedback for us please let us know in "),e("a",L,[n("discussions"),t(s)]),n("!"),U,n(" If you find bugs or see errors please "),e("a",Y,[n("open an issue"),t(s)]),n("."),V,n(" Join our "),e("a",z,[n("discord community"),t(s)]),n(" for questions or additional feedback.")]),F,t(p,{href:"https://engine.needle.tools/downloads/blender"},{default:a(()=>[M]),_:1}),R,t(r,{limit_height:"",src:"/docs/blender/animation.mp4"}),n(),W,t(r,{limit_height:"",max_height:"188px",src:"/docs/blender/animatorcontroller-create.mp4"}),n(),G,e("p",null,[n("To create custom components open the workspace via the Needle Project panel and add a "),O,n(" script file in "),J,n(" inside your web project. Please refer to the "),e("a",X,[n("scripting documentation"),t(s)]),n(" to learn how to write custom components for Needle Engine.")]),H,K,Q,e("div",Z,[$,e("p",null,[n("You are using an early preview of these features - we recommend creating a backup of your blend file when using Lightmapping at this point in time. Please report problems or errors you encounter in "),e("a",ee,[n("our discord"),t(s)]),n(" üôè")])]),t(r,{limit_height:"",max_height:"800px",src:"/docs/blender/lightmapping.mp4"}),n(),e("blockquote",null,[e("p",null,[n("You can download the original blend file from the video "),e("a",ne,[n("here"),t(s)]),n(".")])]),te])}const le=c(T,[["render",ae],["__file","index.html.vue"]]);export{le as default};
