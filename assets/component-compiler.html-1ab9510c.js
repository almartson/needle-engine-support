import{_ as i,M as o,p,q as u,R as n,t as s,N as e,V as a,a1 as r}from"./framework-1a844b00.js";const d={},k=n("h3",{id:"automatically-generating-editor-components",tabindex:"-1"},[n("a",{class:"header-anchor",href:"automatically-generating-editor-components","aria-hidden":"true"},"#"),s(" Automatically generating Editor components")],-1),m=n("p",null,"When working in Unity or Blender then you will notice that when you create a new Needle Engine component in Typescript or Javascript it will automatically generate a Unity C# sub component or a Blender panel for you.",-1),b={href:"https://www.npmjs.com/package/@needle-tools/needle-component-compiler",target:"_blank",rel:"noopener noreferrer"},y=r('<h3 id="controlling-component-generation" tabindex="-1"><a class="header-anchor" href="controlling-component-generation" aria-hidden="true">#</a> Controlling component generation</h3><p>You can use the following typescript attributes to control C# code generation behavior:</p><table><thead><tr><th>Attribute</th><th>Result</th></tr></thead><tbody><tr><td><code>// @generate-component</code></td><td>Force generation of next class</td></tr><tr><td><code>// @dont-generate-component</code></td><td>Disable generation of next class</td></tr><tr><td><code>// @serializeField</code></td><td>Decorate generated field with <code>[SerializeField]</code></td></tr><tr><td><code>// @type UnityEngine.Camera</code></td><td>Specify generated C# field type</td></tr><tr><td><code>// @nonSerialized</code></td><td>Skip generating the next field or method</td></tr></tbody></table><p>The attribute <code>@dont-generate-component</code> is especially useful if you have an existing Unity script you want to match. You&#39;ll have to ensure yourself that the serialized fields match in this case â€“ only matching fields/properties will be exported.</p><h3 id="component-compiler-in-unity" tabindex="-1"><a class="header-anchor" href="#component-compiler-in-unity" aria-hidden="true">#</a> Component Compiler in Unity</h3><p>If you want to add scripts inside the <code>src/scripts</code> folder in your project then you need to have a <code>Component Generator</code> on the GameObject with your <code>ExportInfo</code> component.<br> Now when adding new components in <code>your/threejs/project/src/scripts</code>it will automatically generate Unity scripts in <code>Assets/Needle/Components.codegen</code>.<br> If you want to add scripts to any NpmDef file you can just create them - each NpmDef automatically watches script changes and handles component generation, so you don&#39;t need any additional component in your scene.</p><p>For C# fields to be correctly generated it is currently important that you explictly declare a Typescript type. For example <code>myField : number = 5</code></p><p>You can switch between <strong>Typescript</strong> input and generated <strong>C#</strong> stub components using the tabs below</p>',8),h=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" AssetReference"),n("span",{class:"token punctuation"},","),s(" Behaviour"),n("span",{class:"token punctuation"},","),s(" serializable "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@needle-tools/engine"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Object3D "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"three"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyCustomComponent"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Behaviour"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token decorator"},[n("span",{class:"token at operator"},"@"),n("span",{class:"token function"},"serializable")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    myFloatValue`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"number"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"42"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token decorator"},[n("span",{class:"token at operator"},"@"),n("span",{class:"token function"},"serializable")]),n("span",{class:"token punctuation"},"("),s("Object3D"),n("span",{class:"token punctuation"},")"),s(`
    myOtherObject`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(" Object3D"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token decorator"},[n("span",{class:"token at operator"},"@"),n("span",{class:"token function"},"serializable")]),n("span",{class:"token punctuation"},"("),s("AssetReference"),n("span",{class:"token punctuation"},")"),s(`
    prefabs`),n("span",{class:"token operator"},":"),s(" AssetReference"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"sayHello"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token function"},"sayHello"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Hello World"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("div",{class:"language-csharp line-numbers-mode","data-ext":"cs"},[n("pre",{class:"language-csharp"},[n("code",null,[n("span",{class:"token comment"},"// NEEDLE_CODEGEN_START"),s(`
`),n("span",{class:"token comment"},"// auto generated code - do not edit directly"),s(`

`),n("span",{class:"token preprocessor property"},[s("#"),n("span",{class:"token directive keyword"},"pragma"),s(" warning disable")]),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token namespace"},[s("Needle"),n("span",{class:"token punctuation"},"."),s("Typescript"),n("span",{class:"token punctuation"},"."),s("GeneratedComponents")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"partial"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyCustomComponent"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("MonoBehaviour")])]),s(`
	`),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"float")]),s(" @myFloatValue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"42f"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform")]),s(" @myOtherObject"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),s(" @prefabs "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},"// NEEDLE_CODEGEN_END"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-csharp line-numbers-mode","data-ext":"cs"},[n("pre",{class:"language-csharp"},[n("code",null,[n("span",{class:"token keyword"},"using"),s(),n("span",{class:"token namespace"},"UnityEditor"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// you can add code above or below the NEEDLE_CODEGEN_ blocks"),s(`

`),n("span",{class:"token comment"},"// NEEDLE_CODEGEN_START"),s(`
`),n("span",{class:"token comment"},"// auto generated code - do not edit directly"),s(`

`),n("span",{class:"token preprocessor property"},[s("#"),n("span",{class:"token directive keyword"},"pragma"),s(" warning disable")]),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token namespace"},[s("Needle"),n("span",{class:"token punctuation"},"."),s("Typescript"),n("span",{class:"token punctuation"},"."),s("GeneratedComponents")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"partial"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyCustomComponent"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("MonoBehaviour")])]),s(`
	`),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"float")]),s(" @myFloatValue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"42f"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform")]),s(" @myOtherObject"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),s(" @prefabs "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("Transform"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},"// NEEDLE_CODEGEN_END"),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token namespace"},[s("Needle"),n("span",{class:"token punctuation"},"."),s("Typescript"),n("span",{class:"token punctuation"},"."),s("GeneratedComponents")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// This is how you extend the generated component (namespace and class name must match!)"),s(`
	`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"partial"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyCustomComponent"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("UnityEngine"),n("span",{class:"token punctuation"},"."),s("MonoBehaviour")])]),s(`
	`),n("span",{class:"token punctuation"},"{"),s(`
		
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"MyAdditionalMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`

		`),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"OnValidate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token punctuation"},"{"),s(`
			myFloatValue `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"42"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token comment"},"// of course you can also add custom editors"),s(`
	`),n("span",{class:"token punctuation"},"["),n("span",{class:"token function"},"CustomEditor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),n("span",{class:"token punctuation"},"("),n("span",{class:"token type-expression class-name"},"MyCustomComponent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),s(`
	`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyCustomComponentEditor"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},"Editor")]),s(`
	`),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"override"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"OnInspectorGUI"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token punctuation"},"{"),s(`
			EditorGUILayout`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"HelpBox"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"This is my sample component"'),n("span",{class:"token punctuation"},","),s(" MessageType"),n("span",{class:"token punctuation"},"."),s("None"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
			`),n("span",{class:"token keyword"},"base"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"OnInspectorGUI"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),w=n("h3",{id:"extending-generated-components",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#extending-generated-components","aria-hidden":"true"},"#"),s(" Extending generated components")],-1),f={href:"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/partial-classes-and-methods",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"partial",-1),E=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"Member Casing"),n("p",null,[s("Exported members will start with a lowercase letter. For example if your C# member is named "),n("code",null,"MyString"),s(" it will be assigned to "),n("code",null,"myString"),s(".")])],-1);function C(x,N){const c=o("ExternalLinkIcon"),t=o("CodeGroupItem"),l=o("CodeGroup");return p(),u("div",null,[k,m,n("p",null,[s("This is thanks to the magic of the "),n("a",b,[s("Needle component compiler"),e(c)]),s(" that runs behind the scenes in an editor environment and watches changes to your script files. When it notices that you created a new Needle Engine component it will then generate the correct Unity component or Blender panel including public variables or properties that you can then set or link from within the Editor.")]),y,e(l,null,{default:a(()=>[e(t,{title:"Typescript"},{default:a(()=>[h]),_:1}),e(t,{title:"Generated C#"},{default:a(()=>[v]),_:1}),e(t,{title:"Extending Generated C#"},{default:a(()=>[g]),_:1})]),_:1}),w,n("p",null,[s("Component C# classes are generated with the "),n("a",f,[_,e(c)]),s(" flag so that it is easy to extend them with functionality. This is helpful to draw gizmos, add context menus or add additional fields or methods that are not part of a built-in component.")]),E])}const U=i(d,[["render",C],["__file","component-compiler.html.vue"]]);export{U as default};
